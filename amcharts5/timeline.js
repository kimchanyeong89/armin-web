"use strict";(self.webpackChunk_am5=self.webpackChunk_am5||[]).push([[3831],{4397:function(e,t,i){i.r(t),i.d(t,{AxisRendererCurveX:function(){return g},AxisRendererCurveY:function(){return x},CurveChart:function(){return v},CurveColumnSeries:function(){return L},CurveCursor:function(){return Y},CurveLineSeries:function(){return R},DefaultTheme:function(){return b},SerpentineChart:function(){return T},SpiralChart:function(){return w}});var s=i(5863),n=i(6275),o=i(6293),a=i(7144),r=i(5769),l=i(7652),h=i(751),u=i(5071);class g extends n.Y{constructor(){super(...arguments),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new a.o(r.YS.new({}),(()=>o.k._new(this._root,{themeTags:l.mergeTags(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new a.o(r.YS.new({}),(()=>s.p._new(this._root,{themeTags:l.mergeTags(this.axisFills.template.get("themeTags",["fill"]),this.get("themeTags",[]))},[this.axisFills.template]))))}),Object.defineProperty(this,"pointPostion",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pointDistance",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_normalizedPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_afterNew(){this._settings.themeTags=l.mergeTags(this._settings.themeTags,["renderer","circular"]),super._afterNew(),this.setPrivateRaw("letter","X"),this.setRaw("position","absolute")}_beforeChanged(){super._beforeChanged(),this.isDirty("points")&&this._updateLayout(),this.isDirty("yRenderer")&&this.get("yRenderer").set("xRenderer",this)}processAxis(){super.processAxis(),this.axis.labelsContainer.set("isMeasured",!1)}_updateLayout(){const e=this.chart;if(e){const t=this.get("points");if(t){let i=1/0,s=1/0,n=-1/0,o=-1/0,a=0,r=t[0];u.each(t,((e,t)=>{i=Math.min(i,e.x),s=Math.min(s,e.y),n=Math.max(n,e.x),o=Math.max(o,e.y),a+=Math.hypot(e.x-r.x,e.y-r.y),this.pointDistance[t]=a,r=e})),u.each(t,((e,t)=>{this.pointPostion[t]=this.pointDistance[t]/a}));let l=this.get("yRenderer").get("axisLength",0),h=n-i+2*l,g=o-s+2*l,c=(i+n)/2,d=(s+o)/2,p=e.innerWidth()/h,x=e.innerHeight()/g,m=Math.min(p,x);this.getPrivate("autoScale",!0)||(m=1),this.axis.setPrivateRaw("width",h*m),this.axis.setPrivateRaw("height",g*m),this.setPrivateRaw("centerX",c),this.setPrivateRaw("centerY",d),this.setPrivateRaw("scale",m),this.setPrivateRaw("axisLength",a),this.set("draw",(e=>{e.moveTo((t[0].x-c)*m,(t[0].y-d)*m),u.each(t,(t=>{e.lineTo((t.x-c)*m,(t.y-d)*m)}))})),r=t[0],this._normalizedPoints=[],u.each(t,(e=>{let t=Math.hypot(e.x-r.x,e.y-r.y);for(let i=1;i<t;i++){let s=(r.x+(e.x-r.x)*i/t-c)*m,n=(r.y+(e.y-r.y)*i/t-d)*m;const o=this._normalizedPoints[this._normalizedPoints.length-1];o&&Math.hypot(s-o.x,n-o.y)<.5||this._normalizedPoints.push({x:s,y:n})}r=e})),this.axis.markDirtySize()}}}updateGrid(e,t,i){if(e){null==t&&(t=0);let s=e.get("location",.5);null!=i&&i!=t&&(t+=(i-t)*s),this.toggleVisibility(e,t,0,1);const n=this.positionToPoint(t,0),o=this.positionToPoint(t,1);e.set("draw",(e=>{e.moveTo(n.x,n.y),e.lineTo(o.x,o.y)}))}}positionToAngle(e){e=this.toGlobalPosition(e);let t=this.get("points"),i=this.getPrivate("axisLength",0),s=0;if(t){let n=0,o=t[0];u.eachContinue(t,(t=>{let a=Math.hypot(t.x-o.x,t.y-o.y);return n+=a,n>e*i?(s=h.getAngle(o,t)+90,!1):(o=t,!0)}))}return s}getPoints(e,t,i,s){let n=this.get("yRenderer"),o=[];if(e>i&&([e,i]=[i,e]),t>s&&([t,s]=[s,t]),n){let n=this.positionToIndex(e),a=this.positionToIndex(i);o.push(this.positionToPoint(e,t));for(let s=n;s<=a+1;s++){let n=this.indexToPosition(s);n>e&&n<i&&o.push(this.positionToPoint(n,t))}if(o.push(this.positionToPoint(i,t)),s!=t){o.push(this.positionToPoint(i,s));for(let t=a+1;t>=n;t--){let n=this.indexToPosition(t);n>e&&n<i&&o.push(this.positionToPoint(n,s))}o.push(this.positionToPoint(e,s)),o.push(o[0])}}return o}_handleOpposite(){}positionToIndex(e){let t=this.get("points"),i=this.getPrivate("axisLength",0),s=0;if(e=this.toGlobalPosition(e),t&&t.length>1){let n=0,o=t[0];if(e<=0)s=0;else if(e>=1){const e=t.length;s=e-1}else{let a=0;u.eachContinue(t,(t=>{let r=Math.hypot(t.x-o.x,t.y-o.y);return n+=r,n>=e*i?(s=a,!1):(o=t,a++,!0)}))}}return s}indexToPosition(e){let t=this.get("points"),i=this.getPrivate("axisLength",0),s=0;if(t&&t.length>1){let n=0,o=t[0],a=0;u.eachContinue(t,(t=>{if(s=n/i,a==e)return!1;let r=Math.hypot(t.x-o.x,t.y-o.y);return n+=r,o=t,a++,!0}))}return this.toAxisPosition(s)}pointToPosition(e){let t=1/0,i=0,s=this._normalizedPoints[0],n=0;u.each(this._normalizedPoints,((o,a)=>{let r=Math.hypot(o.x-e.x,o.y-e.y);r<t&&(t=r,i=a,n=h.getAngle(e,o)-h.getAngle(s,o)),s=o}));const o=this.get("yRenderer"),a=this.getPrivate("scale",1),r=this.get("yRenderer"),l=-t/(o.get("axisLength",0)*a)*h.sin(n)+r.get("axisLocation",0);return{x:i/this._normalizedPoints.length,y:l}}positionToPoint(e,t,i){null==t&&(t=0);const s=this.get("yRenderer");i||(e=this.toGlobalPosition(e)),t=s.toGlobalPosition(t),t-=s.get("axisLocation",0);let n=this.get("points"),o=this.getPrivate("axisLength",0),a=this.getPrivate("scale",1),r={x:0,y:0},l=0;if(n&&n.length>1){let t=0,i=n[0];if(e<=0)l=h.getAngle(n[0],n[1])+90,r=n[0];else if(e>=1){const e=n.length;l=h.getAngle(n[e-2],n[e-1])+90,r=n[e-1]}else u.eachContinue(n,(s=>{let n=Math.hypot(s.x-i.x,s.y-i.y);if(t+=n,t>=e*o){let a=(e*o-(t-n)/o*o)/n;return r={x:i.x+(s.x-i.x)*a,y:i.y+(s.y-i.y)*a},l=h.getAngle(i,s)+90,!1}return i=s,!0}))}let g=this.getPrivate("centerX",0),c=this.getPrivate("centerY",0),d=(r.x-g)*a,p=(r.y-c)*a;null==t&&(t=0);let x=-s.get("axisLength",0)*t*a;return{x:d+h.cos(l)*x,y:p+h.sin(l)*x}}updateLabel(e,t,i,s){if(e){null==t&&(t=0);let n=.5;n=null!=s&&s>1?e.get("multiLocation",n):e.get("location",n),null!=i&&i!=t&&(t+=(i-t)*n);const o=this.positionToAngle(t),a=this.get("yRenderer"),r=a.axis,l=this.positionToPoint(t,r.get("start",0)+a.get("axisLocation",0));e.setAll({x:l.x,y:l.y}),this.get("rotateLabels",!0)&&e.set("rotation",o-90),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateTick(e,t,i,s){if(e){null==t&&(t=0);let n=.5;n=null!=s&&s>1?e.get("multiLocation",n):e.get("location",n),null!=i&&i!=t&&(t+=(i-t)*n);let o=e.get("length",0);e.get("inside")&&(o*=-1);let a=this.positionToAngle(t);this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1));const r=this.get("yRenderer").axis,l=this.positionToPoint(t,r.get("start"));e.set("draw",(e=>{e.moveTo(l.x,l.y),e.lineTo(l.x-o*h.cos(a),l.y-o*h.sin(a))}))}}updateBullet(e,t,i){if(e){const s=e.get("sprite");if(s){null==t&&(t=0);let n=e.get("location",.5);null!=i&&i!=t&&(t+=(i-t)*n);const o=this.get("yRenderer").axis,a=this.positionToPoint(t,o.get("start"));s.setAll({x:a.x,y:a.y}),this.toggleVisibility(s,t,0,1)}}}updateFill(e,t,i){if(e){null==t&&(t=0),null==i&&(i=1);const s=this.get("yRenderer").axis,n=this.getPoints(t,s.get("start",0),i,s.get("end",1));e.set("draw",(e=>{e.moveTo(n[0].x,n[0].y),u.each(n,(t=>{e.lineTo(t.x,t.y)})),e.closePath()}))}}axisLength(){return this.getPrivate("axisLength",0)}positionTooltip(e,t){const i=this.get("yRenderer"),s=i.axis.get("start",0),n=i.axis.get("end",1),o=this.positionToPoint(t,i.get("axisLocation",.5)*(n-s)+s);this._positionTooltip(e,o)}updateTooltipBounds(e){}}Object.defineProperty(g,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererCurveX"}),Object.defineProperty(g,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.Y.classNames.concat([g.className])});var c=i(9084),d=i(832),p=i(5040);class x extends n.Y{constructor(){super(...arguments),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:(0,d.Z)()}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new a.o(r.YS.new({}),(()=>c.p._new(this._root,{themeTags:l.mergeTags(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template]))))})}_afterNew(){this._settings.themeTags=l.mergeTags(this._settings.themeTags,["renderer","radial"]),super._afterNew(),this.setPrivate("letter","Y"),this.setRaw("position","absolute")}_changed(){super._changed(),this.isDirty("axisLength")&&this.updateLayout()}processAxis(){super.processAxis()}updateLayout(){const e=this.chart;if(e){const t=this.positionToPoint(0,0),i=this.positionToPoint(1,0);this.set("draw",(e=>{e.moveTo(t.x,t.y),e.lineTo(i.x,i.y)})),this.axis.markDirtySize(),e._updateMasks()}}updateGrid(e,t,i){if(e){p.isNumber(t)||(t=0);let s=e.get("location",.5);p.isNumber(i)&&i!=t&&(t+=(i-t)*s),this.toggleVisibility(e,t,0,1);let n=this.get("xRenderer");if(n){const i=n.get("points");i&&e.set("draw",(e=>{let s;u.each(i,((i,o)=>{let a=n.pointPostion[o],r=this.positionToPoint(t,a,!0);0==o?e.moveTo(r.x,r.y):s&&Math.hypot(s.x-r.x,s.y-r.y)<.5||(e.lineTo(r.x,r.y),s=r)}))}))}}}_handleOpposite(){}positionToPoint(e,t,i){null==t&&(t=0);const s=this.get("xRenderer");return s?s.positionToPoint(t,e,i):{x:0,y:0}}updateLabel(e,t,i,s){if(e){p.isNumber(t)||(t=0);let n=.5;n=p.isNumber(s)&&s>1?e.get("multiLocation",n):e.get("location",n),p.isNumber(i)&&i!=t&&(t+=(i-t)*n);const o=this.positionToPoint(t,0),a=this.get("xRenderer");if(a){let t=0;a&&(t=a.positionToAngle(0)-90),e.setAll({x:o.x,y:o.y}),this.get("rotateLabels",!0)&&e.set("rotation",t)}this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateTick(e,t,i,s){if(e){p.isNumber(t)||(t=0);let n=.5;n=p.isNumber(s)&&s>1?e.get("multiLocation",n):e.get("location",n),p.isNumber(i)&&i!=t&&(t+=(i-t)*n);const o=this.positionToPoint(t,0),a=this.get("xRenderer");if(a){let i=0;a&&(i=a.positionToAngle(0)-90);let s=e.get("length",0);e.get("inside")&&(s*=-1),e.set("draw",(e=>{e.moveTo(o.x,o.y),e.lineTo(o.x+s*h.cos(i),o.y+s*h.sin(i))})),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}updateBullet(e,t,i){if(e){const s=e.get("sprite");if(s){p.isNumber(t)||(t=0);let n=e.get("location",.5);p.isNumber(i)&&i!=t&&(t+=(i-t)*n);const o=this.positionToPoint(t);s.setAll({x:o.x,y:o.y}),this.toggleVisibility(s,t,0,1)}}}getPoints(e,t,i,s){var n;return null===(n=this.get("xRenderer"))||void 0===n?void 0:n.getPoints(e,t,i,s)}updateFill(e,t,i){if(e){null==t&&(t=0),null==i&&(i=1);const s=this.getPoints(0,t,1,i);s&&e.set("draw",(e=>{e.moveTo(s[0].x,s[0].y),u.each(s,(t=>{e.lineTo(t.x,t.y)})),e.closePath()}))}}axisLength(){return this.get("axisLength",60)}updateTooltipBounds(e){}positionToCoordinate(e){return this._inversed?(e=Math.min(this._end,e),(this._end-e)*this._axisLength):((e=Math.max(this._start,e))-this._start)*this._axisLength}positionTooltip(e,t){const i=this.get("xRenderer");if(i){const s=this.positionToPoint(t,i.axis.get("start",0));this._positionTooltip(e,s)}}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererCurveY"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:n.Y.classNames.concat([x.className])});var m=i(3409),y=i(6245);class b extends m.Q{setupDefaultRules(){super.setupDefaultRules();const e=this.rule.bind(this);e("SpiralChart").setAll({levelCount:3,endAngle:0,startAngle:-90,yAxisRadius:(0,y.aQ)(60),innerRadius:(0,y.aQ)(20)}),e("SerpentineChart").setAll({levelCount:3,orientation:"vertical",startLocation:0,endLocation:1}),e("CurveColumnSeries").setAll({clustered:!0}),e("Slice",["curve","column","series"]).setAll({width:(0,y.aQ)(50),height:(0,y.aQ)(50)}),e("AxisRendererCurveY").setAll({minGridDistance:20,inversed:!1,cellStartLocation:0,cellEndLocation:1,rotateLabels:!1,axisLocation:.5,axisLength:60}),e("AxisRendererCurveX").setAll({minGridDistance:100,inversed:!1,cellStartLocation:0,cellEndLocation:1,rotateLabels:!1}),e("RadialLabel",["circular"]).setAll({textType:"circular",paddingTop:1,paddingRight:0,paddingBottom:1,paddingLeft:0,centerX:0,centerY:0,radius:8}),e("AxisLabelRadial",["category"]).setAll({text:"{category}",populateText:!0}),e("RadialLabel",["radial"]).setAll({textType:"regular",centerX:0,textAlign:"right"})}}var P=i(6901),f=i(8777),_=i(1479);class v extends P.z{constructor(){super(...arguments),Object.defineProperty(this,"curveContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(f.W.new(this._root,{x:y.CI,y:y.CI}))})}_afterNew(){this._defaultThemes.push(b.new(this._root)),super._afterNew();const e=this.curveContainer,t=this.gridContainer,i=this.topGridContainer,s=this.seriesContainer,n=this.bulletsContainer;e.children.pushAll([t,s,i,n]),s.set("mask",_.T.new(this._root,{})),t.set("mask",_.T.new(this._root,{})),this._disposers.push(this.plotContainer.events.on("boundschanged",(()=>{this._updateMasks()})))}_maskGrid(){}_addCursor(e){this.curveContainer.children.push(e)}_updateMasks(){this.xAxes.each((e=>{e.get("renderer")._updateLayout()})),this._updateMask(this.seriesContainer),this._updateMask(this.gridContainer),this.series.each((e=>{e.get("maskBullets")?this._updateMask(e.bulletsContainer):e.bulletsContainer.set("mask",void 0)})),this.yAxes.each((e=>{e.markDirtySize()}))}_updateMask(e){const t=e.get("mask");if(t){const e=this.xAxes.getIndex(0),i=this.yAxes.getIndex(0);if(e&&i){const s=e.get("renderer").getPoints(e.get("start",0),i.get("start",0),e.get("end",1),i.get("end",1));t.set("draw",(e=>{e.moveTo(s[0].x,s[0].y);for(let t=1;t<s.length;t++)e.lineTo(s[t].x,s[t].y);e.closePath()})),e.markDirtySize()}}}processAxis(e){this.curveContainer.children.unshift(e)}inPlot(e){return!0}_tooltipToLocal(e){return this.curveContainer._display.toLocal(e)}_handlePinch(){}}Object.defineProperty(v,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CurveChart"}),Object.defineProperty(v,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:P.z.classNames.concat([v.className])});class T extends v{_prepareChildren(){super._prepareChildren(),(this.isDirty("levelCount")||this.isDirty("orientation"))&&this._updateMasks()}_updateMasks(){const e=this.get("levelCount",1)-1;let t,i=this.plotContainer.innerWidth(),s=this.plotContainer.innerHeight(),n=[];if("vertical"==this.get("orientation")){t=Math.min(s/(e+1)/2,i/3),s=Math.min(t*(e+1)*2,s);const o=this.get("startLocation",0),a=this.get("endLocation",1);for(let r=0;r<=e;r++)if(r%2==0){0===r?n.push({x:-i/2+(i-2*t)*o,y:-s/2+s/(e+1)*r}):n.push({x:-i/2+t,y:-s/2+s/(e+1)*r}),r===e?n.push({x:i/2-t-(i-2*t)*(1-a),y:-s/2+s/(e+1)*r}):n.push({x:i/2-2*t,y:-s/2+s/(e+1)*r});let l={x:i/2-2*t,y:-s/2+s/(e+1)*(r+.5)};if(r<e)for(let e=1;e<50;e++){let i=e/50*180-90;n.push({x:l.x+t*h.cos(i),y:l.y+t*h.sin(i)})}}else{n.push({x:i/2-2*t,y:-s/2+s/(e+1)*r}),r===e?n.push({x:-i/2+(i-2*t)*(1-a),y:-s/2+s/(e+1)*r}):n.push({x:-i/2+t,y:-s/2+s/(e+1)*r});let o={x:-i/2+t,y:-s/2+s/(e+1)*(r+.5)};if(r<e)for(let e=1;e<50;e++){let i=-90-e/50*180;n.push({x:o.x+t*h.cos(i),y:o.y+t*h.sin(i)})}}}else{t=Math.min(i/(e+1)/2,s/3),i=Math.min(t*(e+1)*2,i);const o=this.get("startLocation",0),a=this.get("endLocation",1);for(let r=0;r<=e;r++)if(r%2==0){0===r?n.push({y:-s/2+(s-2*t)*o,x:-i/2+i/(e+1)*r}):n.push({y:-s/2+t,x:-i/2+i/(e+1)*r}),r===e?n.push({y:s/2-t-(s-2*t)*(1-a),x:-i/2+i/(e+1)*r}):n.push({y:s/2-2*t,x:-i/2+i/(e+1)*r});let l={y:s/2-2*t,x:-i/2+i/(e+1)*(r+.5)};if(r<e)for(let e=1;e<50;e++){let i=e/50*180-90;n.push({y:l.y+t*h.cos(i),x:l.x+t*h.sin(i)})}}else{n.push({y:s/2-2*t,x:-i/2+i/(e+1)*r}),r===e?n.push({y:-s/2+(s-2*t)*(1-a),x:-i/2+i/(e+1)*r}):n.push({y:-s/2+t,x:-i/2+i/(e+1)*r});let o={y:-s/2+t,x:-i/2+i/(e+1)*(r+.5)};if(r<e)for(let e=1;e<50;e++){let i=-90-e/50*180;n.push({y:o.y+t*h.cos(i),x:o.x+t*h.sin(i)})}}}this.yAxes.each((e=>{e.get("renderer").set("axisLength",l.relativeToValue(this.get("yAxisRadius",y.CI),2*t)),e.markDirtySize()})),this.xAxes.each((e=>{const t=e.get("renderer");t.setPrivate("autoScale",!1),t.set("points",n)})),super._updateMasks()}}Object.defineProperty(T,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerpentineChart"}),Object.defineProperty(T,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:v.classNames.concat([T.className])});class w extends v{_prepareChildren(){super._prepareChildren(),this.isDirty("levelCount")&&this._updateMasks()}_updateMasks(){let e=this.plotContainer.innerWidth(),t=this.plotContainer.innerHeight(),i=Math.min(e,t)/2,s=l.relativeToValue(this.get("innerRadius",0),i),n=(i-s)/this.get("levelCount",1),o=l.relativeToValue(this.get("yAxisRadius",y.CI),n);const a=h.spiralPoints(0,0,i,i,s,20,n,this.get("startAngle",0),this.get("endAngle",360));this.yAxes.each((e=>{e.get("renderer").set("axisLength",o),e.markDirtySize()})),this.xAxes.each((e=>{const t=e.get("renderer");t.setPrivate("autoScale",!1),t.set("points",a)})),super._updateMasks()}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SpiralChart"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:v.classNames.concat([w.className])});var C=i(757),A=i(7770);class L extends C.d{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new a.o(r.YS.new({}),(()=>A.m._new(this._root,{position:"absolute",themeTags:l.mergeTags(this.columns.template.get("themeTags",[]),["curve","series","column"])},[this.columns.template]))))})}makeColumn(e,t){const i=this.mainContainer.children.push(t.make());return i._setDataItem(e),t.push(i),i}_afterNew(){super._afterNew(),this.set("maskContent",!1),this.bulletsContainer.set("maskContent",!1),this.bulletsContainer.set("mask",_.T.new(this._root,{}))}getPoint(e,t){return this.get("xAxis").get("renderer").positionToPoint(e,t)}_updateSeriesGraphics(e,t,i,s,n,o){t.setPrivate("visible",!0),e.setRaw("left",i),e.setRaw("right",s),e.setRaw("top",n),e.setRaw("bottom",o);const a=this.get("xAxis").get("renderer"),r=this.get("yAxis"),l=r.get("start",0),u=r.get("end",1);n=h.fitToRange(n,l,u),o=h.fitToRange(o,l,u);const g=a.getPoints(i,n,s,o);t.set("points",g)}_shouldInclude(e){const t=this.get("xAxis");return!(e<t.get("start",0)||e>t.get("end",1))}_shouldShowBullet(e,t){const i=this.get("xAxis");return!(e<i.get("start",0)||e>i.get("end",1))&&this._showBullets}_positionBullet(e){let t=e.get("sprite");if(t){const i=t.dataItem,s=i.get("locationX",.5),n=i.get("locationY",.5),o=e.get("locationX",s),a=e.get("locationY",n),r=i.component,l=r.get("xAxis"),h=r.get("yAxis");let u=0,g=r.get("vcx",1),c=r.get("vcy",1);if(this.get("openValueXField")){const e=l.getDataItemPositionX(i,r._xOpenField,s,g);u=e+(l.getDataItemPositionX(i,r._xField,s,g)-e)*o}else u=l.getDataItemPositionX(i,r._xField,o,g);let d=0;if(this.get("openValueYField")){const e=h.getDataItemPositionY(i,r._yOpenField,n,c);d=e+(h.getDataItemPositionY(i,r._yField,n,c)-e)*a}else d=h.getDataItemPositionY(i,r._yField,a,c);if(r._shouldShowBullet(u,d)){t.setPrivate("visible",!0);const e=r.getPoint(u,d);t.setAll({x:e.x,y:e.y})}else t.setPrivate("visible",!1)}}_handleMaskBullets(){}_updateChildren(){super._updateChildren(),this.get("maskBullets")||this.bulletsContainer.remove("mask")}_processAxisRange(e){super._processAxisRange(e),e.columns=new a.o(r.YS.new({}),(()=>A.m._new(this._root,{position:"absolute",themeTags:l.mergeTags(e.columns.template.get("themeTags",[]),["curves","series","column"])},[this.columns.template,e.columns.template])))}}Object.defineProperty(L,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CurveColumnSeries"}),Object.defineProperty(L,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:C.d.classNames.concat([L.className])});var N=i(2338);class R extends N.e{_afterNew(){super._afterNew(),this.set("maskContent",!1),this.bulletsContainer.set("maskContent",!1),this.bulletsContainer.set("mask",_.T.new(this._root,{}))}_handleMaskBullets(){}_updateChildren(){super._updateChildren(),this.get("maskBullets")||this.bulletsContainer.remove("mask")}getPoint(e,t){return this.get("xAxis").get("renderer").positionToPoint(e,t)}_shouldInclude(e){const t=this.get("xAxis");return!(e<t.get("start",0)||e>t.get("end",1))}_shouldShowBullet(e,t){const i=this.get("xAxis");return!(e<i.get("start",0)||e>i.get("end",1))&&this._showBullets}_positionBullet(e){let t=e.get("sprite");if(t){const i=t.dataItem,s=i.get("locationX",.5),n=i.get("locationY",.5),o=e.get("locationX",s),a=e.get("locationY",n),r=i.component,l=r.get("xAxis"),h=r.get("yAxis");let u=0,g=r.get("vcx",1),c=r.get("vcy",1);if(this.get("openValueXField")){const e=l.getDataItemPositionX(i,r._xOpenField,s,g);u=e+(l.getDataItemPositionX(i,r._xField,s,g)-e)*o}else u=l.getDataItemPositionX(i,r._xField,o,g);let d=0;if(this.get("openValueYField")){const e=h.getDataItemPositionY(i,r._yOpenField,n,c);d=e+(h.getDataItemPositionY(i,r._yField,n,c)-e)*a}else d=h.getDataItemPositionY(i,r._yField,a,c);if(r._shouldShowBullet(u,d)){t.setPrivate("visible",!0);const e=r.getPoint(u,d);t.setAll({x:e.x,y:e.y})}else t.setPrivate("visible",!1)}}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CurveLineSeries"}),Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:N.e.classNames.concat([R.className])});var k=i(3355);class Y extends k.L{_afterNew(){this._settings.themeTags=l.mergeTags(this._settings.themeTags,["curve","cursor"]),super._afterNew()}_handleXLine(){}_handleYLine(){}_getPosition(e){return this.get("xAxis").get("renderer").pointToPosition(e)}_getPoint(e,t){return this.get("xAxis").get("renderer").positionToPoint(e,t)}updateLayout(){}_updateLines(e,t){this._tooltipX||this._drawXLine(e,t),this._tooltipY||this._drawYLine(e,t)}_drawXLine(e,t){const i=this.get("xAxis"),s=this.get("yAxis"),n=i.get("renderer"),o=n.toAxisPosition(this.getPrivate("positionX",0)),a=n.positionToPoint(o,s.get("start",0)),r=n.positionToPoint(o,s.get("end",1));this.lineX.set("draw",(e=>{e.moveTo(a.x,a.y),e.lineTo(r.x,r.y)}))}_drawYLine(e,t){const i=this.get("xAxis"),s=this.get("yAxis"),n=s.get("renderer"),o=n.toAxisPosition(this.getPrivate("positionY",0)),a=n.getPoints(i.get("start",0),o,i.get("end",1),o);a&&(o>s.get("start",0)&&o<s.get("end",1)?this.lineY.set("draw",(e=>{a.length>0&&(e.moveTo(a[0].x,a[0].y),u.each(a,(t=>{e.lineTo(t.x,t.y)})))})):this.lineY.set("draw",(e=>{e.clear()})))}_updateXLine(e){let t=e.get("pointTo");t&&this._drawXLine(t.x,t.y)}_updateYLine(e){let t=e.get("pointTo");t&&this._drawYLine(t.x,t.y)}_inPlot(){return this.chart,!0}_updateSelection(){this.selection.set("draw",(e=>{const t=this.get("behavior");let i=this.get("xAxis"),s=this.get("yAxis"),n=i.toAxisPosition(this.getPrivate("downPositionX",0)),o=s.toAxisPosition(this.getPrivate("downPositionY",0)),a=i.toAxisPosition(this.getPrivate("positionX",0)),r=s.toAxisPosition(this.getPrivate("positionY",0));"zoomX"==t||"selectX"==t?(o=s.get("start",0),r=s.get("end",1)):"zoomY"!=t&&"selectY"!=t||(n=i.get("start",0),a=i.get("end",1));const l=i.get("renderer").getPoints(n,o,a,r);e.moveTo(l[0].x,l[0].y),u.each(l,(t=>{e.lineTo(t.x,t.y)})),e.closePath()}))}}Object.defineProperty(Y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CurveCursor"}),Object.defineProperty(Y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:k.L.classNames.concat([Y.className])})},3778:function(e,t,i){i.r(t),i.d(t,{am5timeline:function(){return s}});const s=i(4397)}},function(e){var t=(3778,e(e.s=3778)),i=window;for(var s in t)i[s]=t[s];t.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}]);
//# sourceMappingURL=timeline.js.map